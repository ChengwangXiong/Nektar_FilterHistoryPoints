<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/Main.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="shortcut icon" href="images/favicon.ico" >
    <!-- InstanceBeginEditable name="doctitle" -->
<title>Nektar++ - Usage</title>
<!-- InstanceEndEditable -->
    <style type="text/css">
    <!--
	html {
	  min-height: 101%; // force a scrollbar to always appear
	}
    body {
      font: 100% Verdana, Arial, Helvetica, sans-serif;
      background: #FFFFFF;
      margin: 0;
	  padding: 0;
	  text-align: center;
	  color: #000000;
    }
    .twoColHybLt #container {
	  //max-width: 90em;
	  max-width: 60em;
	  width: 99%;
      background: #FFFFFF;
      margin: 0 auto;
      text-align: left;
    }
    .twoColHybLt #sidebar1 {
	float: left;
	width: 13.7em;
	background: #EBEBEB;
	border: 1px solid #000000;
	padding-top: 15px;
	padding-right: 0;
	padding-bottom: 15px;
	padding-left: 0;
    }
    .twoColHybLt #sidebar1 h3, .twoColHybLt #sidebar1 p {
      margin-left: 10px;
      margin-right: 10px;
    }
    .twoColHybLt #mainContent {
	margin-top: 0;
	margin-right: 20px;
	margin-bottom: 0;
	margin-left: 14.5em;
    }
    .fltrt {
      float: right;
      margin-left: 8px;
    }
    .fltlft {
      float: left;
      margin-right: 8px;
    }
    .clearfloat {
      clear:both;
      height:0;
      font-size: 1px;
      line-height: 0px;
    }
    img {
      border:0;
    }
	h1,h2,h3 {
	  margin-bottom: 0;
	}
    -->
    </style>
    <!-- InstanceBeginEditable name="CSS_Style" -->
<style type="text/css">
<!--
#menu_Usage {
	font-weight: bold;
}
-->
</style>
<!-- InstanceEndEditable -->
    <!--[if IE]>
    <style type="text/css"> 
      .twoColHybLt #sidebar1 { padding-top: 30px; margin-top: 20px; }
      .twoColHybLt #mainContent { zoom: 1; padding-top: 15px; }
    </style>
    <![endif]-->
    <!-- InstanceParam name="LibraryMenu" type="boolean" value="false" -->
    <!-- InstanceParam name="CompileMenu" type="boolean" value="false" -->
  </head>
  <body class="twoColHybLt">
    <div id="container">
      <div id="sidebar1">
        <h3 style="text-align: center;"><a href="index.html" id="menu_Nektar"><img src="images/nektar.png" alt="Nektar++" width="155" height="38" /></a></h3>


        <p><a href="downloads.html" id="menu_Downloads">Downloads</a></p>
        <p><a href="compile.html" id="menu_Compile">Compile Instructions</a></p>
        <p><a href="library.html" id="menu_Library">Library Overview</a></p>
        <p><a href="team.html" id="menu_Team">Team Members</a></p>
	<p><a href="pre-processing.html" id="menu_PreProcessing">Pre-processing</a></p>
        <p><a href="post-processing.html" id="menu_PostProcessing">Post-processing</a></p>
	<p><a href="usage.html" id="menu_Usage">Usage</a></p>
        <p><a href="http://www.nektar.info/2nd_edition/" target="_blank" id="menu_Book2ndEd">Spectral/hp element methods for CFD</a> (Karniadakis and Sherwin)</p>
        <p><a href="educational_material.html" id="menu_EducationalMaterial">Educational Material</a></p>
        <p><a href="license.html" id="menu_License">License</a></p>
        <p><a href="acknowledgments.html" id="menu_Acknowledgments">Acknowledgments</a></p>
        <p><a href="mailto:nektar-inquiry@sci.utah.edu" id="menu_Contact">Contact</a></p>

        <p style="font-size:9px;">Last Revision:<br/>$Date: 2009/05/01 17:37:11 $</p>
      </div>
      <div id="mainContent">
        <!-- InstanceBeginEditable name="Title" -->
    <h1>Usage: Advection-Diffusion-Reaction solver</h1>
	<!-- InstanceEndEditable -->
        <hr/>
        <!-- InstanceBeginEditable name="BodyText" -->
In this example, it will be demonstrated how the Advection-Diffusion-Reaction equation can be solved on a two-dimensional domain.
<ol>
<li><h3>Pre-processing</h3></li>
Similar to Helmholtz solver, the details of problems should be described in the Nektar input format.
The description of the mesh, the spectral/hp expansion, the definition of parameters and boundary conditions are
the same as the case of Helmholtz solver, but since it should be integrated for a time variable in various forms of
equations, the corresponding xml file have another part called as Solver information, i.e.:
<ol>
<li>Description of the mesh<BR>
This is contained between the XML tags <tt>&lt;GEOMETRY&gt;...&lt;/GEOMETRY&gt;</tt>.
It lists the vertices, edges and elements that form the mesh.
It is possible to generate this part of the input file based upon a mesh created by Gmsh (see also <a href="pre-processing.html">here</a>).
<li>Description of the spectral/hp expansion<BR>
Between the XML tags <tt>&lt;EXPANSIONS&gt;...&lt;/EXPANSIONS&gt;</tt>, the spectral/hp expansion you want to 
use to represent the solution can be specified. It is possible to define the type of basis functions, the expansion order and the numerical quadrature rule.</li>
<li>Definition of parameters and boundary conditions<BR>
In this section (between the XML tags <tt>&lt;CONDITIONS&gt;...&lt;/CONDITIONS&gt;</tt>), it is possible to specify other information such as boundary conditions. In case of the Advection-Diffusion-Reaction problem, you can also use this section to define the size of time step (<em>TimeStep<em>), the number of time step (<em>NumSteps<em>), the Final time of total computation (<em>FinTime<em>), the size of steps for Check output (<em>IO_CheckSteps<em>) and the the size of steps for Info output (<em>IO_InfoSteps<em>). </li>
<li>Description of Solver information<BR>
In this section (between the XML tags <tt>&lt;CONDITIONS&gt;...&lt;/CONDITIONS&gt;</tt>), it is possible to specify other information such as equation type, projection type and time marching scheme. In case of the Advection-Diffusion-Reaction problem, you can also use this section to define the equation type (<em>EQTYPE = {UnsteadyAdvection, UnsteadyDiffusion, UnsteadyDiffusionReaction}<em>), the projection type of the solution vector (<em>Projection = {Continuous, DisContinuous}<em>) and time marching method of diffusion term (<em>DiffusionAdvancement = {Explicit, Implicit}<em>). </li>
</ol>
<li><h3>Run the code</h3>
To run the code for solving explicit advection problem with input file <em>Test_Advection.xml<em>, follow these steps.
(Use explicit diffusion for Test_ExDiffusion.xml, implicit diffusion for Test_ImDiffusion.xml, diffusion reaction equation with implicit
diffusion for Test_DiffusionReaction.xml)
<ul>
<li>Copy the input file, <em>Test_Advection.xml<em>, in <em>Nektar++/solvers/AdvectionDiffusionReactionSolver</em> to the directory where solver directory is compiled. For example, if you compiled the solver directory at <em>Nektar++/solvers/buildsDebug</em>, then copy those input files to <em>Nektar++/solvers/buildsDebug/AdvectionDiffusionReactionSolver.</em>   </li>
<li>At the terminal, go this same directory. For example, when the solver direction is compiled at <em>Nektar++/solvers/buildsDebug</em>, go to <em>Nektar++/solvers/buildsDebug/AdvectionDiffusionReactionSolver</em></li>
<li>Run the code by entering "./AdvectionDiffusionReactionSolver Test_Advection.xml"</li>
</ul></li>
<li><h3>Post-processing</h3><BR>
The solution should now have been written to the file <em>Test_Advection.fld</em>. This file is formatted in the Nektar++ output format (see also <a href="post-processing.html">here</a>). To visualize the solution in Gmsh, we first have to convert this file. This can be done in the following way:
<ul>
<li>At the terminal, make sure you are still at the dirctory <em>Nektar++/solvers/buildsDebug/AdvectionDiffusionReactionSolver</em></li>
<li>Type "../../../utilities/builds/PostProcessing/FldToGmsh Test_Advection.xml Test_Advection.fld". (If you have build the utilities in Debug mode, this should be "../../../utilities/builds/PostProcessing/FldToGmsh-g Test_Advection.xml Test_Advection.fld")</li>
</ul>
This should have been created the file <em>Test_Advection.pos</em> in the current directory. If you open this file with Gmsh, you should see something like this:
<h2 ALIGN=center><img src="images/Test_Advection.png" width="500" height="367"></h2>
</li>
</ol>

    <!-- InstanceEndEditable -->
        <p><br class="clearfloat" /></p>
      </div>
    </div>
  </body>
<!-- InstanceEnd --></html>
