MACRO(SET_LAPACK_LINK_LIBRARIES name)
    IF( NEKTAR_USE_BLAS_LAPACK )
        IF( NEKTAR_USE_MKL AND MKL_FOUND )
            TARGET_LINK_LIBRARIES(${name} ${MKL_LAPACK} optimized ${MKL} debug ${MKL} ${MKL_GUIDE})
        ENDIF( NEKTAR_USE_MKL AND MKL_FOUND )
        
        IF( NEKTAR_USE_ACML AND ACML_FOUND )
            TARGET_LINK_LIBRARIES(${name} ${ACML_TARGET_LINK_LIBRARIES}  )
        ENDIF( NEKTAR_USE_ACML AND ACML_FOUND )

        IF( NEKTAR_USE_FRAMEWORK )
            TARGET_LINK_LIBRARIES(${name} ${FRAMEWORK_LINK_FLAGS})
        ENDIF ( NEKTAR_USE_FRAMEWORK )

        IF( NEKTAR_USE_WIN32_LAPACK )
	        TARGET_LINK_LIBRARIES(${name} ${WIN32_LAPACK} ${WIN32_BLAS})	
        ENDIF( NEKTAR_USE_WIN32_LAPACK )

	IF( USE_ATLAS AND ATLAS_FOUND )
        	TARGET_LINK_LIBRARIES(${name}
            		${ATLAS_LAPACK}
            		${ATLAS_CBLAS}
            		${ATLAS} )
	ENDIF( USE_ATLAS AND ATLAS_FOUND )

        IF( NEKTAR_USE_METIS )    
            TARGET_LINK_LIBRARIES(${name} optimized ${METIS_LIB} debug ${METIS_LIB} )
            ENDIF( NEKTAR_USE_METIS )
    ENDIF( NEKTAR_USE_BLAS_LAPACK )
ENDMACRO(SET_LAPACK_LINK_LIBRARIES name)